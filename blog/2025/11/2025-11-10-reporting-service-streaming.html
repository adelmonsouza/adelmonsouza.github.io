<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Desafio das √Åguias ‚Äî Dia 10: Reporting Service em Spring Boot ¬∑ The Java Place</title>
  <meta name="description" content="Dia 10 no Desafio das √Åguias: cri√°mos um Reporting Service que transforma eventos brutos em m√©tricas confi√°veis, com snapshots di√°rios, APIs aceleradas e exports self-service ‚Äî tudo com seguran√ßa e observabilidade." />
  <link rel="stylesheet" href="/styles.css" />
  <link rel="canonical" href="https://enouveau.io/blog/2025/11/2025-11-10-reporting-service-streaming.html" />
  <meta property="og:title" content="Desafio das √Åguias ‚Äî Dia 10: Reporting Service em Spring Boot" />
  <meta property="og:description" content="Dia 10 no Desafio das √Åguias: cri√°mos um Reporting Service que transforma eventos brutos em m√©tricas confi√°veis, com snapshots di√°rios, APIs aceleradas e exports self-service ‚Äî tudo com seguran√ßa e observabilidade." />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://enouveau.io/blog/2025/11/2025-11-10-reporting-service-streaming.html" />
  <meta property="article:published_time" content="2025-11-10T00:00:00.000Z" />
  <meta property="article:tag" content="Java" />
  <meta property="article:tag" content="Spring Boot" />
  <meta property="article:tag" content="Analytics" />
  <meta property="article:tag" content="Data Engineering" />
</head>
<body>
  <div class="background-glow"></div>
  <div class="app-shell">
    <header class="masthead">
  <div class="brand">
    <span>üöÄ</span>
    <span>The Java Place</span>
  </div>
  <nav class="main-nav">
    <a href="/">Home</a>
    <a href="/blog/">Blog</a>
    <a href="/start-line/season-1-becoming-developer.html">Start Line</a>
    <a href="/resources/">Resources</a>
  </nav>
</header>
    
      <a class="back-link" href="/blog/">&larr; Voltar para o blog</a>
      <article class="article">
        <header>
          <span class="pill">DesafioDasAguias</span>
          <h1>Desafio das √Åguias ‚Äî Dia 10: Reporting Service em Spring Boot</h1>
          <p>Dia 10 no Desafio das √Åguias: cri√°mos um Reporting Service que transforma eventos brutos em m√©tricas confi√°veis, com snapshots di√°rios, APIs aceleradas e exports self-service ‚Äî tudo com seguran√ßa e observabilidade.</p>
          <div class="meta-line">
            <span>üìÖ 10 de novembro de 2025</span>
            <span>‚è±Ô∏è 2 min read</span>
            <span>üóÇÔ∏è DesafioDasAguias</span>
          </div>
        </header>
        <div class="article-body">
          <blockquote>
<p>‚ÄúDashboards confi√°veis s√£o a cola entre squads e lideran√ßa.‚Äù ‚Äî <em>Manifesto √Åguias</em></p>
</blockquote>
<h3>Onde est√°vamos no Desafio</h3>
<p>Sa√≠mos da maratona de pagamentos para encarar o pedido n√∫mero um de qualquer board: dashboards que n√£o falham. No Dia 10, o Desafio das √Åguias entregou um <strong>Reporting Service</strong> em Spring Boot capaz de transformar eventos brutos em m√©tricas executivas ‚Äî sem pressionar o OLTP.</p>
<h3>O que entrou em produ√ß√£o</h3>
<ul>
<li><strong>Snapshots di√°rios com Spring Batch</strong> e <code>INSERT ... ON CONFLICT</code> ‚Üí nada de recalcular seis meses de hist√≥rico.</li>
<li><strong>Insight APIs com JPA projections + Redis cache</strong> ‚Üí dashboards respondem em milissegundos.</li>
<li><strong>Exports self-service (PDF/CSV)</strong> com Thymeleaf + OpenPDF ‚Üí upload autom√°tico no S3/MinIO e disparo por email.</li>
<li><strong>RBAC + OAuth2</strong> ‚Üí finan√ßas t√™m vis√£o completa; lideran√ßa recebe apenas o que importa.</li>
<li><strong>Observabilidade full stack</strong> ‚Üí m√©tricas <code>reporting.batch.duration</code> e <code>reporting.export.count</code> alimentando Grafana e Kibana.</li>
</ul>
<h3>Como mont√°mos</h3>
<ul>
<li><strong>Spring Batch</strong> orquestra jobs por dom√≠nio (finan√ßas, engajamento, tabuleiro). Cada run grava no schema <code>reporting</code> e exp√µe m√©tricas de dura√ß√£o.</li>
<li><strong>Camada de insights</strong> com JPA Projections e Redis (<code>@Cacheable</code>, TTL curto) aquecida ap√≥s cada snapshot.</li>
<li><strong>Export Engine</strong> usa templates Thymeleaf para PDF/CSV, publica em S3 com <code>putObject</code> e dispara emails via SES/Mailpit.</li>
<li><strong>Seguran√ßa</strong>: OAuth2 + scopes (<code>reporting:finance</code>, <code>reporting:leadership</code>, <code>reporting:ops</code>) com <code>@PreAuthorize</code> e filtros por fam√≠lia.</li>
<li><strong>Observabilidade</strong>: tracing com Sleuth/Zipkin, logs estruturados e dashboards de backlog/lat√™ncia.</li>
</ul>
<h3>Porque importa para as √Åguias</h3>
<ul>
<li><strong>Rastreabilidade total</strong>: cada m√©trica aponta para o snapshot que a gerou ‚Äî zero planilhas escondidas.</li>
<li><strong>Squads focados</strong>: acaba o ping di√°rio ‚Äúpodes puxar este relat√≥rio para mim?‚Äù.</li>
<li><strong>OLTP saud√°vel</strong>: agrega√ß√µes e exports correm isolados, sem afetar o transacional.</li>
<li><strong>Alertas proativos</strong>: batch &gt;10 min ou exports com falha viram alerta autom√°tico no Slack.</li>
</ul>
<h3>M√©tricas &amp; alertas</h3>
<ul>
<li><code>reporting.batch.duration{job=&quot;finance&quot;}</code> ‚Äî monitora dura√ß√£o e envia alerta &gt;10 min.</li>
<li><code>reporting.export.count{format=&quot;pdf&quot;}</code> ‚Äî rastreia volume de exports por formato.</li>
<li><code>reporting.api.latency{endpoint=&quot;insights&quot;}</code> ‚Äî percentis P50/P95/P99 para dashboards.</li>
<li>Alertas configurados: export failures &gt;5 em 10 minutos (critical) e cache miss rate &gt;20% (warning).</li>
</ul>
<h3>Pr√≥ximos voos</h3>
<ul>
<li>Habilitar vers√µes de m√©tricas (<code>metricVersion</code>) como fizemos no cat√°logo de dados.</li>
<li>Envio ass√≠ncrono de exports em lotes (SQS).</li>
<li>Expor webhooks para atualizar dashboards em tempo real.</li>
</ul>
<h3>Material completo</h3>
<p>C√≥digo e detalhes aprofundados est√£o no artigo completo:</p>
<p>üëâ <a href="https://enouveau.io/blog/2025/11/10/reporting-service-under-the-hood.html">Reporting Service ‚Äî Under the Hood</a></p>
<hr>
<p><strong>Next episode</strong> ‚Üí <a href="../2025-11-17-caching-strategies.html">Dia 11/30 ‚Äî Estrat√©gias de Cache em Spring Boot</a><br><strong>Come√ßar do zero</strong> ‚Üí <a href="../../start-line/season-1-becoming-developer.html">Start Line: Season 1 ‚Äî Becoming a Developer</a></p>

        </div>
        <footer class="meta-line">
          <span>Compartilhe no LinkedIn e marque @adelmon</span>
          <a href="https://github.com/adelmonsouza/30DiasJava-Day10-ReportingService" target="_blank" rel="noopener">C√≥digo no GitHub</a>
        </footer>
      </article>
    
  </div>
  <footer class="site-footer">
  ¬© 2025 E-Nouveau ‚Äî The Java Place. Sem fluff, apenas engenharia de verdade.
</footer>
</body>
</html>