<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Day 5/30 â€” Notification Service with Event-Driven Architecture Â· The Java Place</title>
  <meta name="description" content="Day 5 do #30DiasJava: um Notification Service orientado a eventos, com WebSockets/SSE, idempotÃªncia e pronto para evoluir de Spring Events para Kafka ou RabbitMQ." />
  <link rel="stylesheet" href="/styles.css" />
  <link rel="canonical" href="https://enouveau.io/blog/2025/11/2025-11-05-notification-service-event-driven.html" />
  <meta property="og:title" content="Day 5/30 â€” Notification Service with Event-Driven Architecture" />
  <meta property="og:description" content="Day 5 do #30DiasJava: um Notification Service orientado a eventos, com WebSockets/SSE, idempotÃªncia e pronto para evoluir de Spring Events para Kafka ou RabbitMQ." />
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://enouveau.io/blog/2025/11/2025-11-05-notification-service-event-driven.html" />
  <meta property="article:published_time" content="2025-11-05T00:00:00.000Z" />
  <meta property="article:tag" content="Java" />
  <meta property="article:tag" content="Spring Boot" />
  <meta property="article:tag" content="Event-Driven Architecture" />
  <meta property="article:tag" content="Microservices" />
  <meta property="article:tag" content="Notifications" />
</head>
<body>
  <div class="background-glow"></div>
  <div class="app-shell">
    <header class="masthead">
  <div class="brand">
    <span>ğŸš€</span>
    <span>The Java Place</span>
  </div>
  <nav class="main-nav">
    <a href="/">Home</a>
    <a href="/blog/">Blog</a>
    <a href="/start-line/season-1-becoming-developer.html">Start Line</a>
    <a href="/resources/">Resources</a>
  </nav>
</header>
    
      <a class="back-link" href="/blog/">&larr; Voltar para o blog</a>
      <article class="article">
        <header>
          <span class="pill">30DaysOfJava</span>
          <h1>Day 5/30 â€” Notification Service with Event-Driven Architecture</h1>
          <p>Day 5 do #30DiasJava: um Notification Service orientado a eventos, com WebSockets/SSE, idempotÃªncia e pronto para evoluir de Spring Events para Kafka ou RabbitMQ.</p>
          <div class="meta-line">
            <span>ğŸ“… 05 de novembro de 2025</span>
            <span>â±ï¸ 2 min read</span>
            <span>ğŸ—‚ï¸ 30DaysOfJava</span>
          </div>
        </header>
        <div class="article-body">
          <blockquote>
<p>â€œEvery event is an opportunity to surprise the user â€” or to flood them with noise.â€ â€” <em>#30DiasJava Logbook</em></p>
</blockquote>
<h2>ğŸ¯ Objetivo do Day 5</h2>
<p>O quinto dia do #30DiasJava inaugurou o lado em tempo real da plataforma. A missÃ£o: construir um <strong>Notification Service</strong> capaz de tratar eventos de domÃ­nio, entregar mensagens em mÃºltiplos canais e manter governanÃ§a mesmo antes de subir para Kafka ou RabbitMQ.</p>
<h2>ğŸ› ï¸ Destaques da implementaÃ§Ã£o</h2>
<ul>
<li><strong>OrquestraÃ§Ã£o por eventos</strong>: <code>NotificationRequestedEvent</code> desacopla produtores dos canais (email, push, in-app). Cada listener roda de forma assÃ­ncrona com <code>@EventListener</code> + <code>@Async</code>.</li>
<li><strong>Outbox + idempotÃªncia</strong>: registros pendentes vÃ£o para <code>notification_outbox</code> e sÃ³ sÃ£o marcados como <code>DELIVERED</code> quando o canal confirma. Duplicatas sÃ£o bloqueadas com Ã­ndices Ãºnicos.</li>
<li><strong>WebSockets vs SSE</strong>: o serviÃ§o expÃµe ambos. SSE para streams leves e estÃ¡veis; WebSockets para experiÃªncias interativas. Em ambos, JWT + rate limiting em Redis.</li>
<li><strong>Roteamento inteligente</strong>: regras de prioridade por pÃºblico, janelas de silÃªncio e preferÃªncias por canal.</li>
<li><strong>Observabilidade</strong>: mÃ©tricas (<code>notification_delivery_seconds</code>, <code>notification_retry_total</code>), logs com <code>traceId</code>/<code>recipientId</code> e dashboards com heatmaps de erro.</li>
</ul>
<h2>ğŸ’¡ LiÃ§Ãµes do dia</h2>
<ul>
<li>DÃ¡ para comeÃ§ar â€œpequenoâ€ com Spring Events sem fechar a porta para brokers mais robustos â€” basta modelar tudo como mensagens imutÃ¡veis.</li>
<li>IdempotÃªncia precisa ser tratada desde o primeiro webhook, mesmo que o trÃ¡fego ainda seja baixo.</li>
<li>MÃ©tricas e tracing sÃ£o tÃ£o importantes quanto o payload: sem visibilidade, Ã© impossÃ­vel saber se os usuÃ¡rios estÃ£o recebendo as mensagens certas.</li>
</ul>
<h2>ğŸ”— Recursos</h2>
<ul>
<li>Artigo completo: <a href="https://enouveau.io/blog/2025/11/05/notification-service-event-driven.html">https://enouveau.io/blog/2025/11/05/notification-service-event-driven.html</a></li>
<li>RepositÃ³rio: <a href="https://github.com/adelmonsouza/30DiasJava-Day04-NotificationService">https://github.com/adelmonsouza/30DiasJava-Day04-NotificationService</a></li>
<li><strong>Projeto pessoal:</strong> Este Ã© um projeto do desafio #30DiasJava, mantido independentemente para fins educacionais.</li>
</ul>
<hr>
<p><strong>Next episode</strong> â†’ <a href="../2025-11-06-docker-professional-stack.html">Day 6/30 â€” Docker Professional Stack in 7 Steps</a></p>

        </div>
        <footer class="meta-line">
          <span>Compartilhe no LinkedIn e marque @adelmon</span>
          
        </footer>
      </article>
    
  </div>
  <footer class="site-footer">
  Â© 2025 E-Nouveau â€” The Java Place. Sem fluff, apenas engenharia de verdade.
</footer>
</body>
</html>